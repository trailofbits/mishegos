dist: xenial
language: c
compiler:
  - clang
  - gcc
services:
  - docker
git:
  submodules: false
before_install:
  - sed -i 's/git@github.com:/git:\/\/github.com\//' .gitmodules
  - git submodule update --init --recursive
  - sudo apt-get install -y cppcheck clang-format
  - make fmt && git diff --exit-code
  - make lint
  - docker build -t mishegos_ci .
